<!DOCTYPE html>
    <head>
        <title>Calculator</title>
        <style>
            body {
                background-color: black;
                color: white;
                font-family: monospace;
            }
        </style>
    </head>
    <body>
        <div id="terminal"></div>
        <noscript>
            Sorry, your browser does not support JavaScript. Check your browser settings and enable JavaScript.
        </noscript>
        <script src="breakinfinity.js"></script>
        <script>
            const terminal = document.getElementById('terminal');

            function addPrompt() {
                // Remove any existing input
                const oldInput = document.getElementById('prompt');
                if (oldInput) oldInput.disabled = true;

                // Add prompt line
                const promptLine = document.createElement('div');
                promptLine.innerHTML = 'UltraCalc 2025 &gt;&gt;&gt; ';
                const input = document.createElement('input');
                input.type = 'text';
                input.id = 'prompt';
                input.autofocus = true;
                input.style.background = 'black';
                input.style.color = '#fff';
                input.style.border = 'none';
                input.style.outline = 'none';
                input.style.fontFamily = 'monospace';
                input.style.width = '60%';
                promptLine.appendChild(input);
                terminal.appendChild(promptLine);

                input.focus();

                input.addEventListener('keypress', function(event) {
                    if (event.key === 'Enter') {
                        input.disabled = true;

                        // Show output line after the prompt
                        const outputLine = document.createElement('div');
                        outputLine.textContent = parse(input.value);
                        outputLine.style.color = '#888';
                        terminal.appendChild(outputLine);

                        addPrompt();
                        terminal.scrollTop = terminal.scrollHeight;
                    }
                });
            }

            // Start with prompt only
            addPrompt();
        </script>
    </body>
</html>
